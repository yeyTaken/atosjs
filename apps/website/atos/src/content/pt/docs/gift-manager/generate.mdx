---
title: "AtosJS - generate "
---

import { Callout, Tabs, Steps, FileTree } from "nextra/components";
import { FaPlugCircleCheck } from "react-icons/fa6";

<Tabs items={['Par√¢metros', 'Exemplo']}>

<Tabs.Tab>
<Steps>

### `type`

<Callout type=".">
Define o tipo do presente que ser√° gerado, como por exemplo `coin`, `desconto`, `premium`, etc.
</Callout>

```javascript filename="index.js" showLineNumbers copy 
const { GiftManager } = require("atosjs");
const gift = new GiftManager();

(async () => {
    const coin = await gift.generate({
        type: 'coin', // O 'type' geralmente √© usado para definir o nome do presente.
    });

    console.log({
        code: coin,
    });

})();
```

### `value`

<Callout type=".">
Determina o valor associado ao presente. Pode ser um n√∫mero, string ou at√© mesmo um objeto personalizado.
</Callout>

```javascript filename="index.js" showLineNumbers copy
const { GiftManager } = require("atosjs");
const gift = new GiftManager();

(async () => {
    const coin = await gift.generate({
        value: 1500, // O 'value' √© usado para definir o valor do presente.
    });

    console.log({
        code: coin,
    });

})();
```

### `edit`

<Callout type=".">
Permite personalizar o c√≥digo do presente em vez de gerar um c√≥digo aleat√≥rio automaticamente.
</Callout>

```javascript filename="index.js" showLineNumbers copy
const { GiftManager } = require("atosjs");
const gift = new GiftManager();

(async () => {
    const promotion = await gift.generate({
        edit: {
            code: "NATAL2025" // O 'edit' √© usado para definir um c√≥digo espec√≠fico em vez de gerar um c√≥digo aleat√≥rio.
            maxRedeem: 12, // O 'maxRedeem' √© usado para definir a quantidade de uso do presente.
            expiration: '30d', // O 'expiration' √© usado para definir o tempo de v√°lidade do presente.
        },
    });

    console.log({
        code: promotion,
    });

})();
```

<Callout type="info">
**O que √© `codeId();{:js}`?**

`codeId` √© o gerador interno de c√≥digos aleat√≥rios utilizado pelo m√©todo `generate`.  
Por exemplo, ao chamar `codeId();{:js}` voc√™ pode obter um resultado como `6HFDB6RPYSCLR`. Confira abaixo um exemplo completo:

```javascript filename="index.js" showLineNumbers copy
const { GiftManager, codeId } = require("atosjs");
const gift = new GiftManager();

(async () => {
    const editedCode = await gift.generate({
        edit: {
            code: "test-" + codeId()
        },
    });

    console.log({
        giftId: editedCode,
    });

})();
```

Resultado esperado, Ap√≥s a execu√ß√£o do arquivo:

```bash filename="Terminal"
‚úî Connected to üöÄ AtosDB (json.sqlite)                                                                                                             2:24:20 AM
{ giftId: 'test-RJASYXQTVBKK3' }
```
</Callout>


</Steps>
</Tabs.Tab>

<Tabs.Tab>

<Callout type=".">
Exemplo geral do `await gift.generate();{:js}`
</Callout>

```javascript filename="index.js" showLineNumbers copy
const { GiftManager } = require("atosjs");
const gift = new GiftManager();

(async () => {
  const coin = await gift.generate({
    type: "coin", // tipo do presente, no caso, moeda.
    value: 30000, // valor do presente, no caso, 100 moedas.
    edit: { expiration: '7d' } // dura√ß√£o de 7 dias.
  });

  console.log({
    code: coin, // c√≥digo do presente gerado.
    log: await gift.view(coin) // visualiza√ß√£o do presente gerado.
  });
})();
```

<Callout type=".">
<div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', fontSize: '1rem', fontWeight: 'bold' }}>
  <FaPlugCircleCheck size="1rem" />
  <span>Resultado esperado:</span>
</div>

```bash filename="Terminal"
‚úî Connected to üöÄ AtosDB (json.sqlite)                                                                                                             1:58:48 AM
{
  code: 'coin-6HFDB6RPYSCLR',
  log: {
    valid: true,
    type: 'coin',
    value: 30000,
    edited: {
      maxRedeem: 1,
      redeemedCount: 0,
      expiresAt: '2025-05-04T13:58:48.532Z'
    }
  }
}
```
</Callout>

</Tabs.Tab>
</Tabs>


<Callout type=".">
> Resumo geral do `await gift.generate();{:js}`
</Callout>

| Op√ß√£o       | Tipo       | Padr√£o        | Descri√ß√£o                                |
| ----------- | ---------- | ------------- | ---------------------------------------- |
| `type`   | `string`   | `undefined`         | Define o tipo do presente. **Exemplo**: `desconto`, `premium`, `moedas`. |
| `value`   | `unknown`    | `undefined`    | Define o valor do presente. **Exemplo**: `100`, `'VIP Access'`, `{ wallet: { coins: 5000 } }`. |
| `edit`    | `{ code: string, expiration: string, maxRedeem: number }`    | `undefined`  | Permite customizar o c√≥digo, definir validade (`expiration`) e m√°ximo de resgates (`maxRedeem`). **Exemplo**: `{ code: 'NATAL2025', expiration: '7d', maxRedeem: 5 }`. |
| `edit.expiration`   | `string`    | `undefined`  | Define a data de expira√ß√£o do presente. **Exemplo**: `'60s'`, `'7d'`, `'1y'`. |
| `edit.maxRedeem`    | `number`    | `undefined`  | Limita o n√∫mero de vezes que o presente pode ser resgatado. Padr√£o √© `1`. **Exemplo**: `5`. |