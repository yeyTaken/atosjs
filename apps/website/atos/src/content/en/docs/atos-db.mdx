---
title: "AtosJS - Database"
---

import { Callout, Tabs } from "nextra/components";
import {
  FaDatabase,
  FaPlayCircle,
  FaListUl,
  FaFileCircleCheck,
} from "react-icons/fa6";

<Callout type="info">
Installation of `@atosjs/database{:bash}`
<Tabs items={['npm', 'pnpm', 'yarn', 'bun']}>
  <Tabs.Tab>
    ```bash filename="Terminal" copy
    npm install @atosjs/database
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```bash filename="Terminal" copy
    pnpm add @atosjs/database
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```bash filename="Terminal" copy
    yarn add @atosjs/database
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```bash filename="Terminal" copy
    bun add @atosjs/database
    ```
  </Tabs.Tab>
</Tabs>
</Callout>

<Callout type=".">
  <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', fontSize: '1rem', fontWeight: 'bold' }}>
    <FaDatabase size="1rem" />
    <span>Simple, lightweight, JSON-based database utility:</span>
  </div>

`@atosjs/database{:bash}` is a local storage system based on `.json` files, ideal for small to medium-sized projects, bots, or CLIs.

```javascript filename="index.js" showLineNumbers copy
const { Database } = require("@atosjs/database");
const db = new Database("db.json");

(async () => {
  await db.set("user.123", { name: "Alice", coins: 50 });
  console.log(await db.get("user.123")); // { name: 'Alice', coins: 50 }

  await db.update("user.123.coins", (value) => value + 10);
  console.log(await db.get("user.123.coins")); // 60

  await db.delete("user.123.name");
  console.log(await db.get("user.123")); // { coins: 60 }

  await db.push("user.123.inventory", "sword");
  console.log(await db.get("user.123.inventory")); // ["sword"]
})();
```

</Callout>

---

<div style={{ display: "flex", alignItems: "center", gap: "0.5rem", fontSize: "1rem", fontWeight: "bold" }}>
  <FaFileCircleCheck size="1rem" />
  <span>Expected output:</span>
</div>

```bash filename="Terminal"
{ name: 'Alice', coins: 50 }
60
{ coins: 60 }
["sword"]
```

---

## `set(path, value)`

```javascript filename="set-example.js" showLineNumbers copy
await db.set("config.prefix", "!");
await db.set("user.1", { name: "JoÃ£o", vip: true });
```

<Callout type=".">
Creates or replaces a value at a specific path.

- Supports nested structures (`object.object.key`)

</Callout>

---

## `get(path)`

```javascript filename="get-example.js" showLineNumbers copy
const prefix = await db.get("config.prefix");
console.log(prefix); // "!"
```

<Callout type=".">
Retrieves the value stored at the given path.

- Returns `undefined` if it doesn't exist.

</Callout>

---

## `update(path, callback)`

```javascript filename="update-example.js" showLineNumbers copy
await db.set("coins", 100);
await db.update("coins", (val) => val + 50);
```

<Callout type=".">
Updates a value by applying a transformation function.

- Ideal for sums, subtractions, or dynamic modifications.

</Callout>

---

## `delete(path)`

```javascript filename="delete-example.js" showLineNumbers copy
await db.delete("user.1.vip");
```

<Callout type=".">
Removes the specified key from the database.

- Can delete nested values.

</Callout>

---

## `push(path, value)`

```javascript filename="push-example.js" showLineNumbers copy
await db.push("logins", "2025-04-29");
```

<Callout type=".">
Adds a value to the end of an array.

- Creates the array if it doesn't exist.

</Callout>

---

## `has(path)`

```javascript filename="has-example.js" showLineNumbers copy
if (await db.has("user.1")) {
  console.log("User exists.");
}
```

<Callout type=".">
Returns `true` if the path exists, `false` otherwise.
</Callout>

---

## ðŸ§© Methods Table

<Callout type=".">
> Overview of `new Database(path);{:javascript}`
</Callout>

| Method             | Type      | Example                        | Description                                    |
| ------------------ | --------- | ------------------------------ | ---------------------------------------------- |
| `set(path, val)`   | `Promise` | `db.set("x.y", 1)`             | Creates or overwrites a value.                 |
| `get(path)`        | `Promise` | `db.get("x.y")`                | Returns the value at the specified path.       |
| `update(path, cb)` | `Promise` | `db.update("x", (v) => v + 1)` | Updates an existing value based on a function. |
| `delete(path)`     | `Promise` | `db.delete("x.y")`             | Removes a specific key or value.               |