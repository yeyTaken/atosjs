---

title: "AtosJS - Database"

---

import { Callout } from "nextra/components";
import {
  FaDatabase,
  FaPlayCircle,
  FaListUl,
  FaFileCircleCheck,
} from "react-icons/fa6";

<Callout type=".">
  <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', fontSize: '1rem', fontWeight: 'bold' }}>
    <FaDatabase size="1rem" />
    <span>Utilit√°rio de banco de dados simples, leve e baseado em JSON:</span>
  </div>

O `@atosjs/database` √© um sistema de armazenamento local baseado em arquivos `.json`, ideal para projetos pequenos e m√©dios, bots ou CLIs.

```javascript filename="index.js" showLineNumbers copy
const { Database } = require("@atosjs/database");
const db = new Database("db.json");

(async () => {
  await db.set("user.123", { name: "Alice", coins: 50 });
  console.log(await db.get("user.123")); // { name: 'Alice', coins: 50 }

  await db.update("user.123.coins", (value) => value + 10);
  console.log(await db.get("user.123.coins")); // 60

  await db.delete("user.123.name");
  console.log(await db.get("user.123")); // { coins: 60 }

  await db.push("user.123.inventory", "sword");
  console.log(await db.get("user.123.inventory")); // ["sword"]
})();
```

---

<div
  style={{
    display: "flex",
    alignItems: "center",
    gap: "0.5rem",
    fontSize: "1rem",
    fontWeight: "bold",
  }}
>
  <FaFileCircleCheck size="1rem" />
  <span>Resultado esperado:</span>
</div>

```bash filename="Terminal"
{ name: 'Alice', coins: 50 }
60
{ coins: 60 }
["sword"]
```

</Callout>

---

## `set(path, value)`

```javascript filename="set-example.js" showLineNumbers copy
await db.set("config.prefix", "!");
await db.set("user.1", { name: "Jo√£o", vip: true });
```

<Callout type=".">
Cria ou substitui um valor em um caminho espec√≠fico.

- Suporta estruturas aninhadas (`objeto.objeto.chave`)
</Callout>

---

## `get(path)`

```javascript filename="get-example.js" showLineNumbers copy
const prefix = await db.get("config.prefix");
console.log(prefix); // "!"
```

<Callout type=".">
Recupera o valor armazenado no caminho fornecido.

- Retorna `undefined` se n√£o existir.
</Callout>

---

## `update(path, callback)`

```javascript filename="update-example.js" showLineNumbers copy
await db.set("coins", 100);
await db.update("coins", (val) => val + 50);
```

<Callout type=".">
Altera um valor aplicando uma fun√ß√£o de transforma√ß√£o.

- Ideal para somas, subtra√ß√µes ou modifica√ß√µes din√¢micas.
</Callout>

---

## `delete(path)`

```javascript filename="delete-example.js" showLineNumbers copy
await db.delete("user.1.vip");
```

<Callout type=".">
Remove a chave especificada do banco de dados.

- Pode deletar valores aninhados.
</Callout>

---

## `push(path, value)`

```javascript filename="push-example.js" showLineNumbers copy
await db.push("logins", "2025-04-29");
```

<Callout type=".">
Adiciona um valor ao final de um array.

- Cria o array se ele n√£o existir.
</Callout>

---

## `has(path)`

```javascript filename="has-example.js" showLineNumbers copy
if (await db.has("user.1")) {
  console.log("Usu√°rio existe.");
}
```

<Callout type=".">
Retorna `true` se o caminho existir, `false` caso contr√°rio.
</Callout>

---

## üß© Tabela de m√©todos

<Callout type=".">
> Resumo geral do `new Database(path);{:javascript}`
</Callout>

| M√©todo              | Tipo         | Exemplo                              | Descri√ß√£o                                                    |
| ------------------- | ------------ | ------------------------------------ | ------------------------------------------------------------ |
| `set(path, val)`    | `Promise`    | `db.set("x.y", 1)`                   | Cria ou sobrescreve um valor.                                |
| `get(path)`         | `Promise`    | `db.get("x.y")`                      | Retorna o valor no caminho especificado.                     |
| `update(path, cb)`  | `Promise`    | `db.update("x", (v) => v + 1)`       | Atualiza valor existente com base em uma fun√ß√£o.             |
| `delete(path)`      | `Promise`    | `db.delete("x.y")`                   | Remove uma chave ou valor espec√≠fico.                        |
| `push(path, val)`   | `Promise`    | `db.push("arr", "item")`            | Adiciona um item a um array.                                 |
| `has(path)`         | `Promise`    | `db.has("x.y")`                      | Verifica se um caminho existe.                               |