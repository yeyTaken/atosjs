import { Callout } from 'nextra/components';

# M√©todo `generate`

O **GiftManager** permite gerar presentes de forma simples, oferecendo a flexibilidade de configurar propriedades como tipo, valor, data de expira√ß√£o e limite de resgates. A seguir, voc√™ encontrar√° um guia completo sobre como utilizar a fun√ß√£o `generate()` para criar presentes de acordo com suas necessidades.

<Callout type="info" emoji="üí°">
  Este guia cobre os fundamentos da gera√ß√£o de presentes e inclui exemplos pr√°ticos.
</Callout>

## Usando o GiftManager para Gerar um Presente

Primeiro, importe e configure o `GiftManager`. O exemplo abaixo demonstra como gerar um presente utilizando a fun√ß√£o `generate()`.

```js showLineNumbers filename="JavaScript" copy
const { GiftManager } = require('atosjs');
const gm = new GiftManager();

const giftId = await gm.generate();
console.log(giftId);

// Isso gera um ID de presente aleat√≥rio, mas sem definir valores espec√≠ficos, ou seja, um presente "vazio".
```

<Callout type="info" emoji="‚ÑπÔ∏è">
  Um presente "vazio" √© √∫til para testes ou como base para ajustes futuros.
</Callout>

## Par√¢metros de Configura√ß√£o

A fun√ß√£o `generate()` aceita v√°rias op√ß√µes, permitindo customizar o presente conforme sua necessidade. Veja a seguir os par√¢metros dispon√≠veis:

### 1. `type`
Define o tipo do presente. Esse par√¢metro √© opcional, mas pode ser √∫til para categoriza√ß√£o.

- **Exemplo**: `'desconto'`, `'premium'`, `'moedas'`

<Callout emoji="üéÅ">
  Escolha tipos que sejam claros para os usu√°rios finais, como "desconto" ou "moedas".
</Callout>

### 2. `value`
Define o valor do presente. O tipo do valor pode ser qualquer coisa, desde n√∫meros at√© objetos, dependendo de como o presente ser√° utilizado.

- **Exemplo**: `100`, `'VIP Access'`, `{ wallet: { coins: 5000 } }`

### 3. `expiration`
Define a data de expira√ß√£o do presente no formato relativo, como `60s`, `7d`, `10m`, `1y`. A fun√ß√£o calcula a data de expira√ß√£o automaticamente com base na unidade de tempo especificada.

- **Exemplo**: `'60s'` (expira em 60 segundos), `'7d'` (expira em 7 dias), `'1y'` (expira em 1 ano)

<Callout type="warning" emoji="‚ö†Ô∏è">
  Certifique-se de usar unidades de tempo v√°lidas, como `60s` ou `7d`. Unidades incorretas podem causar erros.
</Callout>

### 4. `maxRedeem`
Limita o n√∫mero de vezes que o presente pode ser resgatado. O valor padr√£o √© `1`, o que significa que o presente pode ser resgatado uma √∫nica vez.

- **Exemplo**: `5` (permite at√© 5 resgates)

### 5. `edit`
Se voc√™ quiser customizar o c√≥digo do presente, pode usar esse par√¢metro para definir um c√≥digo espec√≠fico em vez de gerar um c√≥digo aleat√≥rio.

- **Exemplo**: `{ code: 'NATAL2025' }` ‚Äî ir√° gerar um presente com o c√≥digo `NATAL2025`

<Callout emoji="üìù">
  Use o par√¢metro `edit` para criar c√≥digos promocionais personalizados.
</Callout>

## Exemplo de Gera√ß√£o Completa de Presente

Aqui est√° um exemplo de c√≥digo completo utilizando todas as op√ß√µes dispon√≠veis para gerar um presente:

```js showLineNumbers filename="JavaScript" copy
const { GiftManager } = require('atosjs');
const gm = new GiftManager();

const giftId = await gm.generate({
    type: 'desconto',         // Tipo do presente
    value: 50,                // Valor do presente
    expiration: '7d',         // Expira em 7 dias
    maxRedeem: 12,            // Limite de resgates
    edit: {
        code: 'NATAL2025'     // C√≥digo personalizado para o presente
    }
});

console.log(giftId); // O ID gerado ser√° 'NATAL2025'
```

<Callout type="success" emoji="‚úÖ">
  Este c√≥digo cria um presente completamente configurado e pronto para uso.
</Callout>

### Exemplo de Presente de Moedas

Se voc√™ quiser gerar um presente que d√™ moedas, o exemplo seria o seguinte:

```js showLineNumbers filename="JavaScript" copy
const { GiftManager } = require('atosjs');
const gm = new GiftManager();

const giftId = await gm.generate({
    type: 'coins',         // Tipo do presente
    value: 5000,           // Valor do presente (5000 moedas)
});

console.log(giftId); // Um ID aleat√≥rio ser√° gerado, por exemplo: 'GYGTFD4546GDDSAF'
```

<Callout emoji="üí∞">
  Presentes de moedas s√£o perfeitos para recompensar usu√°rios em jogos ou sistemas baseados em pontos.
</Callout>

## C√≥digos de Erro

Caso ocorra um erro durante a gera√ß√£o do presente, a fun√ß√£o `generate()` pode lan√ßar um erro do tipo `AtosJSError`. Aqui est√£o alguns erros poss√≠veis:

- **INVALID_TIME_UNIT**: Ocorre quando a unidade de tempo fornecida para a expira√ß√£o n√£o √© v√°lida.
- **INVALID_MAX_REDEEM**: Ocorre quando o valor de `maxRedeem` √© menor que 1.

### Exemplo de Captura de Erro

```js showLineNumbers filename="JavaScript" copy
try {
    const giftId = await gm.generate({
        expiration: '10z',  // Unidade de tempo inv√°lida
    });
} catch (error) {
    console.error(error.message); // Exibe o erro caso a unidade de tempo seja inv√°lida
}
```

<Callout type="error" emoji="üö´">
  **AtosJSError**: Invalid time unit. Use 60s, 7d, 10m and 1y. ("INVALID_TIME_UNIT")
</Callout>

Neste exemplo, um erro ser√° lan√ßado devido √† unidade de tempo inv√°lida (`'10z'`), e a mensagem de erro ser√° exibida.

## Resumo das Op√ß√µes

| Par√¢metro   | Descri√ß√£o                                                          | Exemplo                |
|-------------|--------------------------------------------------------------------|------------------------|
| `type`      | Define o tipo do presente.                                         | `'desconto'`, `'premium'`, `'moedas'` |
| `value`     | Define o valor do presente.                                         | `100`, `'VIP Access'`, `{ wallet: { coins: 5000 } }` |
| `expiration`| Define a data de expira√ß√£o do presente.                            | `'60s'`, `'7d'`, `'1y'` |
| `maxRedeem` | Define o n√∫mero m√°ximo de resgates do presente.                    | `5`                     |
| `edit`      | Permite definir um c√≥digo personalizado para o presente.          | `{ code: 'NATAL2025' }` |

<Callout type="info" emoji="üìå">
  Use a tabela acima como refer√™ncia r√°pida para configurar seus presentes.
</Callout>

## Pr√≥ximos Passos

Agora que voc√™ sabe como gerar um presente, o pr√≥ximo passo √© usar a fun√ß√£o `view()` para verificar se o presente ainda √© v√°lido ou para consultar suas propriedades, como o tipo e o valor. Isso permitir√° que voc√™ confirme os detalhes do presente antes de disponibiliz√°-lo para resgate.

<Callout type="info" emoji="üöÄ">
  Continue explorando o **GiftManager** para desbloquear todo o potencial de personaliza√ß√£o de presentes!
</Callout> 