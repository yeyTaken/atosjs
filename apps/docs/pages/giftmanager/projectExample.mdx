import { Tabs, Tab, Callout, Steps, FileTree } from 'nextra/components';

# Exemplo de Projeto

<Tabs items={['npm', 'yarn', 'pnpm', 'bun']}>
  <Tab>
    <Steps>
      ### Instalação do Projeto (npm)

      ```bash copy filename="Terminal"
      npm init -y
      npm i atosjs@latest
      ```

      ```bash filename="Terminal: Retorno"
      $ npm init -y
      Wrote to /workspaces/atosjs/tests/random/package.json:

      {
        "name": "my-project",
        "version": "1.0.0",
        "main": "index.js",
        "scripts": {
          "test": "echo \"Error: no test specified\" && exit 1"
        },
        "keywords": [],
        "author": "",
        "license": "ISC",
        "description": ""
      }

      $ npm i atosjs@latest

      added 41 packages, and audited 42 packages in 4s

      9 packages are looking for funding
      run `npm fund` for details

      found 0 vulnerabilities
      $ 
      ```

      ### Arquivos do Projeto

      ```js showLineNumbers copy filename="index.js"
      const readline = require('readline');
      const { GiftManager } = require('atosjs');

      const gm = new GiftManager({
          fileType: 2
      });

      async function newGift() {
          const giftId = await gm.generate({
              type: 'coins',
              value: 1500
          });

          return console.log('giftId: ' + giftId);
      }

      const rl = readline.createInterface({
        input: process.stdin,
        output: process.stdout
      });

      newGift();
      setTimeout(async () => {
          console.log();
          console.log('Digite seu código aqui:');
      }, 1000);

      rl.question('', async (code) => {
          const redeem = await gm.redeem(code);
          const view = await gm.view(code);

          if (redeem.success) {
              console.log(`Código resgatado com sucesso! Você ganhou ${view.value} ${view.type}`);
          } else {
              console.log('O código não existe ou já foi usado.');
          }
          rl.close();
      });
      ```

      ### Estrutura Final do Projeto

      <FileTree>
        <FileTree.Folder name="my-project" defaultOpen>
          <FileTree.Folder name="node_modules">
          </FileTree.Folder>
          <FileTree.File name="index.js" />
          <FileTree.File name="gifts.yaml" />
          <FileTree.File name="package.json" />
          <FileTree.File name="package-lock.json" />
        </FileTree.Folder>
      </FileTree>
    </Steps>
  </Tab>

  <Tab>
    <Steps>
      ### Instalação do Projeto (yarn)

      ```bash copy filename="Terminal"
      yarn init -y
      yarn add atosjs
      ```

      ```bash filename="Terminal: Retorno"
      $ yarn init -y
      success Wrote to package.json:

      {
        "name": "my-project",
        "version": "1.0.0",
        "main": "index.js",
        "license": "MIT"
      }

      $ yarn add atosjs
      success Saved lockfile.
      success Saved 41 new dependencies.
      ```

      ### Arquivos do Projeto

      ```js showLineNumbers copy filename="index.js"
      const readline = require('readline');
      const { GiftManager } = require('atosjs');

      const gm = new GiftManager({
          fileType: 2
      });

      async function newGift() {
          const giftId = await gm.generate({
              type: 'coins',
              value: 1500
          });

          return console.log('giftId: ' + giftId);
      }

      const rl = readline.createInterface({
        input: process.stdin,
        output: process.stdout
      });

      newGift();
      setTimeout(async () => {
          console.log();
          console.log('Digite seu código aqui:');
      }, 1000);

      rl.question('', async (code) => {
          const redeem = await gm.redeem(code);
          const view = await gm.view(code);

          if (redeem.success) {
              console.log(`Código resgatado com sucesso! Você ganhou ${view.value} ${view.type}`);
          } else {
              console.log('O código não existe ou já foi usado.');
          }
          rl.close();
      });
      ```

      ### Estrutura Final do Projeto

      <FileTree>
        <FileTree.Folder name="my-project" defaultOpen>
          <FileTree.Folder name="node_modules">
          </FileTree.Folder>
          <FileTree.File name="index.js" />
          <FileTree.File name="gifts.yaml" />
          <FileTree.File name="package.json" />
          <FileTree.File name="yarn.lock" />
        </FileTree.Folder>
      </FileTree>
    </Steps>
  </Tab>

  <Tab>
    <Steps>
      ### Instalação do Projeto (pnpm)

      ```bash copy filename="Terminal"
      pnpm init
      pnpm add atosjs
      ```

      ```bash filename="Terminal: Retorno"
      $ pnpm init
      Wrote to package.json:

      {
        "name": "my-project",
        "version": "1.0.0",
        "main": "index.js",
        "license": "ISC"
      }

      $ pnpm add atosjs
      Packages: +41
      +	atosjs 4.0.0
      Progress: resolved 42, reused 41, downloaded 1, done
      ```
      ### Arquivos do Projeto

      ```js showLineNumbers copy filename="index.js"
      const readline = require('readline');
      const { GiftManager } = require('atosjs');

      const gm = new GiftManager({
          fileType: 2
      });

      async function newGift() {
          const giftId = await gm.generate({
              type: 'coins',
              value: 1500
          });

          return console.log('giftId: ' + giftId);
      }

      const rl = readline.createInterface({
        input: process.stdin,
        output: process.stdout
      });

      newGift();
      setTimeout(async () => {
          console.log();
          console.log('Digite seu código aqui:');
      }, 1000);

      rl.question('', async (code) => {
          const redeem = await gm.redeem(code);
          const view = await gm.view(code);

          if (redeem.success) {
              console.log(`Código resgatado com sucesso! Você ganhou ${view.value} ${view.type}`);
          } else {
              console.log('O código não existe ou já foi usado.');
          }
          rl.close();
      });
      ```

      ### Estrutura Final do Projeto

      <FileTree>
        <FileTree.Folder name="my-project" defaultOpen>
          <FileTree.Folder name="node_modules">
          </FileTree.Folder>
          <FileTree.File name="index.js" />
          <FileTree.File name="gifts.yaml" />
          <FileTree.File name="package.json" />
          <FileTree.File name="pnpm-lock.yaml" />
        </FileTree.Folder>
      </FileTree>
    </Steps>
  </Tab>

  <Tab>
    <Steps>
      ### Instalação do Projeto (bun)

      ```bash copy filename="Terminal"
      bun init
      bun add atosjs
      ```

      ```bash filename="Terminal: Retorno"
      $ bun init
      Created package.json

      {
        "name": "my-project",
        "version": "1.0.0",
        "main": "index.js",
        "license": "MIT"
      }

      $ bun add atosjs
      + atosjs@latest
      ```
      ### Arquivos do Projeto

      ```js showLineNumbers copy filename="index.js"
      const readline = require('readline');
      const { GiftManager } = require('atosjs');

      const gm = new GiftManager({
          fileType: 2
      });

      async function newGift() {
          const giftId = await gm.generate({
              type: 'coins',
              value: 1500
          });

          return console.log('giftId: ' + giftId);
      }

      const rl = readline.createInterface({
        input: process.stdin,
        output: process.stdout
      });

      newGift();
      setTimeout(async () => {
          console.log();
          console.log('Digite seu código aqui:');
      }, 1000);

      rl.question('', async (code) => {
          const redeem = await gm.redeem(code);
          const view = await gm.view(code);

          if (redeem.success) {
              console.log(`Código resgatado com sucesso! Você ganhou ${view.value} ${view.type}`);
          } else {
              console.log('O código não existe ou já foi usado.');
          }
          rl.close();
      });
      ```

      ### Estrutura Final do Projeto

      <FileTree>
        <FileTree.Folder name="my-project" defaultOpen>
          <FileTree.Folder name="node_modules">
          </FileTree.Folder>
          <FileTree.File name="index.js" />
          <FileTree.File name="gifts.yaml" />
          <FileTree.File name="package.json" />
          <FileTree.File name="bun.lockb" />
        </FileTree.Folder>
      </FileTree>
    </Steps>
  </Tab>

</Tabs>


<Callout type="info" emoji="ℹ️">
  Toda vez que você criar um novo `giftId`, o arquivo `gifts.yaml` será atualizado, pois os códigos são salvos lá. 
  Caso o projeto seja público, recomendamos adicionar o `gifts.*` ao `.gitignore`.
</Callout>